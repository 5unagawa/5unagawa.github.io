<!DOCTYPE HTML>
<html>
	<head>
		<title>Jyanken</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<style>
      			img {
        			width: 50px;
        			height: 50px;
			}
    		</style>
	</head>
	<body>
		<div>
			<h2>CHOOSE YOUR FIGHTER</h2>
			<img src="gu.png" onclick="mainLoop(1);">
			<img src="pa.png"  onclick="mainLoop(2)">
			<img src="choki.png" onclick="mainLoop(3)">
			
      		<div>

		<div>
			<div id="player">
				<h2>You</h2>
			</div>
			<div id="pc">
				<h2>Your opponent</h2>
			</div>
		</div>

	<script>
           	var pcThrow;
		
		var gu = document.createElement("img");
			gu.setAttribute("id", "newImg");
			gu.src = "gu.png";
		var choki =document.createElement("img");
			choki.setAttribute("id", "newImg");
			choki.src = "choki.png";
		var pa = document.createElement("img");
			pa.setAttribute("id", "newImg");
			pa.src = "pa.png";
        	
		function mainLoop(userThrow) {

p = document.getElementById("player");
pcImg = document.getElementById("pc");

			try{
	elem = document.getElementById("newImg");
	elem.remove();
			} catch(error){
			console.error(error);
			}
			pcThrow = Math.floor(Math.random() * 3+1);



			if (pcThrow == 1){				
				pcImg.appendChild(gu);
				
			}
			if (pcThrow == 2){
				pcImg.appendChild(pa);
				
			}
			if (pcThrow == 3){
				pcImg.appendChild(choki);
				
			}
			if (userThrow == 1){				
				p.appendChild(gu);
				
			}
			if (userThrow == 2){
				p.appendChild(pa);
				
			}
			if (userThrow == 3){
				p.appendChild(choki);
				
			}
            		checkThrow(userThrow, pcThrow);
        	}
//1 is rock
//2 is paper
//3 is scissors
		function checkThrow(user, pc) {
//check for draws
            		if (user == pc) {
                		console.log("It's a draw!");
            		}
            		else if ((user==1 && pc==3)||(user==2 && pc==1)||(user==3 && pc==2)) {
                		console.log("You win!");
            		}
            		else {
                		console.log("You lose.");
            		}
        	}
    </script>	
</body>

</html>